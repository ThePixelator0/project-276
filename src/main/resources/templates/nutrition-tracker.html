<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrition Tracker</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/nav.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/nutrition.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet"></head> 
</head>
<body>
    <div class="page-container">
        <div class="vertical-navigation">
            <div class="link-container">
                <p class="align-center unselected"><a href="/dashboard">Home</a></p>
            </div>

            <div class="link-container">
                <p class="align-center current"><a href="/nutrition">Nutrition Tracking</a></p>
            </div>

            <div class="link-container">
                <p class="align-center unselected"><a href="/workouts">Workout Tracking</a></p>
            </div>

            <div class="link-container">
                <p class="align-center unselected"><a href="/plans">Meal Plans</a></p>
            </div>

            <div class="link-container">
                <p class="align-center unselected"><a href="/admin"><span th:if="${#authentication.getPrincipal().getAuthorities()[0].getAuthority()} == 'ADMIN'">Admin</span></a></p>
            </div>

            <div class="logout-link-container">
                <p class="align-center logout"><a href="/logout">Log out</a></p>
            </div>
        </div>
        
        <div class="page-info-container">
            <div class="date-navigation-container">
                <span><i class="fa fa-chevron-left"></i></span>
                <span id="nutrition-date"></span>
                <span><i class="fa fa-chevron-right"></i></span>
            </div>
            <div class="calorie-counter-container">
                <p class="align-center calorie-title">Calories Remaining</p>
                <p class="align-center calorie-count">2000</p>
            </div>

            <div class="meals-container">
                <div class="meals-bubble">
                    <h6>Breakfast</h6>
                    <span class="meal-item-count">0</span>
                    <div class="add-see-food-container">
                        <p onclick="openNutritionData('add-breakfast-modal')" style="text-align:center">ADD FOOD</p>

                        <p onclick="openNutritionData('breakfast-modal')">SEE ALL BREAKFAST DATA</p>
                    </div>
                </div>
                <div class="meals-bubble">
                    <h6>Lunch</h6>
                    <span class="meal-item-count">0</span>
                    <div class="add-see-food-container">
                        <p onclick="openNutritionData('add-lunch-modal')" style="text-align:center">ADD FOOD</p>
                        <p onclick="openNutritionData('lunch-modal')">SEE ALL LUNCH DATA</p>
                    </div>
                </div>
                <div class="meals-bubble">
                    <h6>Dinner</h6>
                    <span class="meal-item-count">0</span>
                    <div class="add-see-food-container">
                        <p onclick="openNutritionData('add-dinner-modal')" style="text-align:center">ADD FOOD</p>
                        <p onclick="openNutritionData('dinner-modal')">SEE ALL DINNER DATA</p>
                    </div>
                </div>
                <div class="meals-bubble">
                    <h6>Snacks</h6>
                    <span class="meal-item-count">0</span>
                    <div class="add-see-food-container">
                        <p onclick="openNutritionData('add-snack-modal')" style="text-align:center">ADD FOOD</p>
                        <p onclick="openNutritionData('snack-modal')">SEE ALL SNACK DATA</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="add-food-modal" id="add-breakfast-modal">
            <span class="exit-modal" onclick="closeNutritionData('add-breakfast-modal')">&#10006;</span>
            <form action="" method="post">
                <h3 class="modal-title">Add Breakfast Item</h3>
                <input type="hidden" name="meal-type" value="breakfast"/>
                <input type="hidden" name="user-id" th:value="${#authentication.principal.id}"/>
                <input type="text" name="breakfast-food" placeholder="Breakfast" class="add-food-input"/>
            </form>
        </div>

        <div class="add-food-modal" id="add-lunch-modal">
            <span class="exit-modal" onclick="closeNutritionData('add-lunch-modal')">&#10006;</span>
            <form action="" method="post">
                <h3 class="modal-title">Add Lunch Item</h3>
                <input type="hidden" name="meal-type" value="lunch"/>
                <input type="hidden" name="user-id" th:value="${#authentication.principal.id}"/>
                <input type="text" name="lunch-food" placeholder="Lunch" class="add-food-input"/>
            </form>
        </div>

        <div class="add-food-modal" id="add-dinner-modal">
            <span class="exit-modal" onclick="closeNutritionData('add-dinner-modal')">&#10006;</span>
            <form action="" method="post">
                <h3 class="modal-title">Add Dinner Item</h3>
                <input type="hidden" name="meal-type" value="Dinner"/>
                <input type="hidden" name="user-id" th:value="${#authentication.principal.id}"/>
                <input type="text" name="dinner-food" placeholder="Dinner" class="add-food-input"/>
            </form>
        </div>

        <div class="add-food-modal" id="add-snack-modal">
            <span class="exit-modal" onclick="closeNutritionData('add-snack-modal')">&#10006;</span>
            <form action="" method="post">
                <h3 class="modal-title">Add Snack Item</h3>
                <input type="hidden" name="meal-type" value="Snack"/>
                <input type="hidden" name="user-id" th:value="${#authentication.principal.id}"/>
                <input type="text" name="snack-food" placeholder="Snack" class="add-food-input"/>
            </form>
        </div>

        <div class="all-data-modal" id="breakfast-modal">
            <span class="exit-modal" onclick="closeNutritionData('breakfast-modal')">&#10006;</span>
            <p>Breakfast</p>
        </div>

        <div class="all-data-modal" id="lunch-modal">
            <span class="exit-modal" onclick="closeNutritionData('lunch-modal')">&#10006;</span>
            <p>Lunch</p>         
        </div>

        <div class="all-data-modal" id="dinner-modal">
            <span class="exit-modal" onclick="closeNutritionData('dinner-modal')">&#10006;</span>
            <p>Dinner</p>
        </div>

        <div class="all-data-modal" id="snack-modal">
            <span class="exit-modal" onclick="closeNutritionData('snack-modal')">&#10006;</span>
            <p>Snacks</p>   
        </div>
    </div>
    <script th:src="@{/js/nutritionscript.js}"></script>
</body>
</html>